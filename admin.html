<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Candor Ma Mission</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Bangers&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <a href="index.html" style="text-decoration: none; color: inherit;">
                    <div class="brand-logo">
                        <img src="images/Logos/Boussole EAM.png" alt="Logo Boussole EAM" class="header-logo">
                        <h1>Candor Ma Mission</h1>
                    </div>
                </a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html#accueil" class="nav-link">Accueil</a>
                </li>
                <li class="nav-item">
                    <a href="faq.html" class="nav-link">FAQ</a>
                </li>
                <li class="nav-item">
                    <a href="presentation.html" class="nav-link">Pr√©sentation</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">Contact</a>
                </li>
                <li class="nav-item">
                    <a href="admin.html" class="nav-link active">Admin</a>
                </li>
            </ul>
            <div class="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <!-- Admin Login Section -->
    <section class="admin-section">
        <div class="admin-background"></div>
        <div class="container">
            <div class="admin-content">
                <!-- Login Form -->
                <div class="login-container" id="loginForm">
                    <div class="login-card">
                        <div class="login-header">
                            <div class="admin-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h1>üõ°Ô∏è Panel Admin</h1>
                            <p>Acc√©dez au contr√¥le de la mission</p>
                        </div>
                        
                        <form class="login-form" id="adminLoginForm">
                            <div class="form-group">
                                <label for="username">Nom d'utilisateur</label>
                                <div class="input-group">
                                    <i class="fas fa-user"></i>
                                    <input type="text" id="username" name="username" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="password">Mot de passe</label>
                                <div class="input-group">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" id="password" name="password" required>
                                    <button type="button" class="toggle-password" id="togglePassword">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="remember" name="remember">
                                    Se souvenir de moi
                                </label>
                            </div>
                            
                            <button type="submit" class="login-btn">
                                <i class="fas fa-sign-in-alt"></i>
                                Se connecter
                            </button>
                        </form>
                        
                        <div class="login-footer">
                            <p>Acc√®s r√©serv√© aux administrateurs autoris√©s</p>
                        </div>
                    </div>
                </div>

                <!-- Admin Dashboard (Hidden by default) -->
                <div class="dashboard-container" id="dashboard" style="display: none;">
                    <div class="dashboard-header">
                        <h1>üéØ Dashboard Admin</h1>
                        <button class="logout-btn" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            D√©connexion
                        </button>
                    </div>
                    
                    <div class="dashboard-cards">
                        <div class="admin-card">
                            <div class="unread-badge" id="unreadBadge" style="display: none;">
                                <span id="unreadCount">0</span> non lus
                            </div>
                            <div class="card-icon">
                                <i class="fas fa-inbox"></i>
                            </div>
                            <div class="card-content">
                                <h3>üì¨ Bo√Æte de r√©ception</h3>
                                <p>G√©rez les messages re√ßus via le formulaire de contact</p>
                                
                                <!-- Message Stats Placeholder -->
                                <div class="message-stats" id="messageStatsPlaceholder">
                                    <div class="stats-container">
                                        <div class="stat-item">
                                            <div class="stat-loading">
                                                <i class="fas fa-spinner fa-spin"></i>
                                            </div>
                                            <span class="stat-label">Messages</span>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-loading">
                                                <i class="fas fa-spinner fa-spin"></i>
                                            </div>
                                            <span class="stat-label">Archives</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <a href="inbox.html" class="card-btn">
                                    <i class="fas fa-arrow-right"></i>
                                    Acc√©der
                                </a>
                            </div>
                        </div>
                        
                        <div class="admin-card">
                            <div class="card-icon">
                                <i class="fas fa-question-circle"></i>
                            </div>
                            <div class="card-content">
                                <h3>‚ùì G√©rer la FAQ</h3>
                                <p>Ajoutez, modifiez ou supprimez des questions/r√©ponses</p>
                                
                                <!-- FAQ Stats Placeholder -->
                                <div class="faq-stats" id="faqStatsPlaceholder">
                                    <div class="stats-container">
                                        <div class="stat-item">
                                            <div class="stat-loading">
                                                <i class="fas fa-spinner fa-spin"></i>
                                            </div>
                                            <span class="stat-label">Cat√©gories</span>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-loading">
                                                <i class="fas fa-spinner fa-spin"></i>
                                            </div>
                                            <span class="stat-label">Questions</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="card-btn" id="manageFaqBtn">
                                    <i class="fas fa-arrow-right"></i>
                                    Acc√©der
                                </button>
                            </div>
                        </div>
                        
                        <div class="admin-card">
                            <div class="card-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="card-content">
                                <h3>üìä Statistiques</h3>
                                <p>Consultez les statistiques du site et des performances</p>
                                <button class="card-btn">
                                    <i class="fas fa-arrow-right"></i>
                                    Acc√©der
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Logs Section -->
                    <div class="logs-section">
                        <div class="logs-header">
                            <h2>üìã Logs d'activit√©</h2>
                            <div class="logs-actions">
                                <button class="refresh-messages-btn" id="refreshMessagesBtn">
                                    <i class="fas fa-sync-alt"></i>
                                    Actualiser Messages
                                </button>
                                <button class="refresh-logs-btn" id="refreshLogsBtn">
                                    <i class="fas fa-sync-alt"></i>
                                    Actualiser
                                </button>
                                <button class="export-logs-btn" id="exportLogsBtn">
                                    <i class="fas fa-download"></i>
                                    Exporter
                                </button>
                            </div>
                        </div>
                        
                        <!-- Search Bar -->
                        <div class="logs-search">
                            <div class="search-container">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" id="logsSearchInput" placeholder="Rechercher dans les logs (action, IP, date...)">
                                <button class="clear-search-btn" id="clearSearchBtn" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="search-results" id="searchResults" style="display: none;">
                                <span id="searchResultsText">0 r√©sultat trouv√©</span>
                            </div>
                        </div>
                        
                        <div class="logs-container">
                            <div class="logs-loading" id="logsLoading" style="display: none;">
                                <i class="fas fa-spinner fa-spin"></i>
                                Chargement des logs...
                            </div>
                            
                            <div class="logs-table-wrapper">
                                <div class="logs-table-container" id="logsTableContainer">
                                    <table class="logs-table" id="logsTable">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Date</th>
                                                <th>Heure</th>
                                                <th>Action</th>
                                                <th>IP</th>
                                            </tr>
                                        </thead>
                                        <tbody id="logsTableBody">
                                            <!-- Logs will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="logs-empty" id="logsEmpty" style="display: none;">
                                <i class="fas fa-clipboard-list"></i>
                                <p>Aucun log disponible</p>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Management Section -->
                    <div class="faq-management-section" id="faqManagementSection" style="display: none;">
                        <div class="faq-management-header">
                            <h2>‚ùì Gestion de la FAQ</h2>
                            <div class="faq-management-actions">
                                <button class="refresh-faq-btn" id="refreshFaqBtn">
                                    <i class="fas fa-sync-alt"></i>
                                    Actualiser
                                </button>
                                <button class="back-to-dashboard-btn" id="backToDashboardBtn">
                                    <i class="fas fa-arrow-left"></i>
                                    Retour au Panel
                                </button>
                            </div>
                        </div>

                        <!-- FAQ Management Tabs -->
                        <div class="faq-tabs">
                            <button class="faq-tab-btn active" data-tab="categories">
                                <i class="fas fa-folder"></i>
                                Cat√©gories
                            </button>
                            <button class="faq-tab-btn" data-tab="questions">
                                <i class="fas fa-question-circle"></i>
                                Questions/R√©ponses
                            </button>
                        </div>

                        <!-- Categories Tab -->
                        <div class="faq-tab-content" id="categoriesTab">
                            <div class="categories-management">
                                <div class="categories-header">
                                    <h3>üìã Gestion des Cat√©gories</h3>
                                    <button class="add-category-btn" id="addCategoryBtn">
                                        <i class="fas fa-plus"></i>
                                        Nouvelle Cat√©gorie
                                    </button>
                                </div>

                                <!-- Categories Search -->
                                <div class="categories-search">
                                    <div class="search-container">
                                        <i class="fas fa-search search-icon"></i>
                                        <input type="text" id="categoriesSearchInput" placeholder="Rechercher une cat√©gorie (nom, description...)">
                                        <button class="clear-search-btn" id="clearCategoriesSearchBtn" style="display: none;">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                    <div class="search-results" id="categoriesSearchResults" style="display: none;">
                                        <span id="categoriesSearchResultsText">0 r√©sultat trouv√©</span>
                                    </div>
                                </div>

                                <div class="categories-loading" id="categoriesLoading" style="display: none;">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    Chargement des cat√©gories...
                                </div>

                                <div class="categories-list" id="categoriesList">
                                    <!-- Categories will be loaded here -->
                                </div>

                                <div class="categories-empty" id="categoriesEmpty" style="display: none;">
                                    <i class="fas fa-folder-open"></i>
                                    <p>Aucune cat√©gorie cr√©√©e</p>
                                </div>
                            </div>
                        </div>

                        <!-- Questions Tab -->
                        <div class="faq-tab-content" id="questionsTab" style="display: none;">
                            <div class="questions-management">
                                <div class="questions-header">
                                    <h3>‚ùì Gestion des Questions/R√©ponses</h3>
                                    <button class="add-question-btn" id="addQuestionBtn">
                                        <i class="fas fa-plus"></i>
                                        Nouvelle Question
                                    </button>
                                </div>

                                <div class="questions-controls">
                                    <div class="questions-filter">
                                        <select id="questionCategoryFilter" class="category-filter-select">
                                            <option value="all">Toutes les cat√©gories</option>
                                            <!-- Categories will be loaded here -->
                                        </select>
                                    </div>
                                    
                                    <!-- Questions Search -->
                                    <div class="questions-search">
                                        <div class="search-container">
                                            <i class="fas fa-search search-icon"></i>
                                            <input type="text" id="questionsSearchInput" placeholder="Rechercher une question (question, r√©ponse...)">
                                            <button class="clear-search-btn" id="clearQuestionsSearchBtn" style="display: none;">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                        <div class="search-results" id="questionsSearchResults" style="display: none;">
                                            <span id="questionsSearchResultsText">0 r√©sultat trouv√©</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="questions-loading" id="questionsLoading" style="display: none;">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    Chargement des questions...
                                </div>

                                <div class="questions-list" id="questionsList">
                                    <!-- Questions will be loaded here -->
                                </div>

                                <div class="questions-empty" id="questionsEmpty" style="display: none;">
                                    <i class="fas fa-question-circle"></i>
                                    <p>Aucune question cr√©√©e</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Category Modal -->
        <div id="categoryModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="categoryModalTitle">üìÅ Nouvelle Cat√©gorie</h2>
                    <button class="close-btn" id="closeCategoryModalBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="categoryForm">
                        <div class="form-group">
                            <label for="categoryName">Nom de la cat√©gorie *</label>
                            <input type="text" id="categoryName" name="categoryName" required>
                        </div>
                        <div class="form-group">
                            <label for="categoryDescription">Description</label>
                            <textarea id="categoryDescription" name="categoryDescription" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="categoryEmoji">Emoji de la cat√©gorie *</label>
                            <div class="emoji-selector">
                                <div class="emoji-display" id="emojiDisplay">
                                    <span class="selected-emoji" id="selectedEmoji">‚ùì</span>
                                    <span class="emoji-placeholder">Cliquez pour choisir un emoji</span>
                                </div>
                                <input type="hidden" id="categoryEmoji" name="categoryEmoji" value="‚ùì" required>
                                <div class="emoji-picker" id="emojiPicker" style="display: none;">
                                    <div class="emoji-picker-header">
                                        <input type="text" class="emoji-search" id="emojiSearch" placeholder="Rechercher un emoji...">
                                    </div>
                                    <div class="emoji-categories">
                                        <button type="button" class="emoji-cat-btn active" data-category="smileys">üòÄ</button>
                                        <button type="button" class="emoji-cat-btn" data-category="people">üë•</button>
                                        <button type="button" class="emoji-cat-btn" data-category="nature">üåø</button>
                                        <button type="button" class="emoji-cat-btn" data-category="food">üçé</button>
                                        <button type="button" class="emoji-cat-btn" data-category="activities">‚öΩ</button>
                                        <button type="button" class="emoji-cat-btn" data-category="travel">üöó</button>
                                        <button type="button" class="emoji-cat-btn" data-category="objects">üíé</button>
                                        <button type="button" class="emoji-cat-btn" data-category="symbols">‚ù§Ô∏è</button>
                                        <button type="button" class="emoji-cat-btn" data-category="flags">üè≥Ô∏è</button>
                                    </div>
                                    <div class="emoji-grid" id="emojiGrid">
                                        <!-- Emojis will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="categoryVisible" name="categoryVisible" checked>
                                Visible sur le site
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancelCategoryBtn">
                        <i class="fas fa-times"></i>
                        Annuler
                    </button>
                    <button class="btn btn-primary" id="saveCategoryBtn">
                        <i class="fas fa-save"></i>
                        Enregistrer
                    </button>
                </div>
            </div>
        </div>

        <!-- Question Modal -->
        <div id="questionModal" class="modal">
            <div class="modal-content question-modal-content">
                <div class="modal-header">
                    <h2 id="questionModalTitle">‚ùì Nouvelle Question</h2>
                    <button class="close-btn" id="closeQuestionModalBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="questionForm">
                        <div class="form-group">
                            <label for="questionCategory">Cat√©gorie *</label>
                            <select id="questionCategory" name="questionCategory" required>
                                <option value="">S√©lectionnez une cat√©gorie</option>
                                <!-- Categories will be loaded here -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="questionText">Question *</label>
                            <textarea id="questionText" name="questionText" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="questionAnswer">R√©ponse *</label>
                            <textarea id="questionAnswer" name="questionAnswer" rows="6" required></textarea>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="questionVisible" name="questionVisible" checked>
                                Visible sur le site
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancelQuestionBtn">
                        <i class="fas fa-times"></i>
                        Annuler
                    </button>
                    <button class="btn btn-primary" id="saveQuestionBtn">
                        <i class="fas fa-save"></i>
                        Enregistrer
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>Candor Ma Mission</h3>
                    <p>Transformez votre vision en r√©alit√©</p>
                </div>
                <div class="footer-links">
                    <h4>Liens rapides</h4>
                    <ul>
                        <li><a href="index.html#accueil">Accueil</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="presentation.html">Pr√©sentation</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <h4>Suivez-nous</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Site cr√©e par Daryl pour Candor Ma Mission. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <script src="config.js"></script>
    <script src="script.js"></script>
    <script src="admin.js"></script>
</body>
</html> 